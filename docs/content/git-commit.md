# Git/SVN 提交规范

## 概述

规范的提交信息有助于提高代码可读性、追踪变更历史和协作效率。本规范适用于 Git 和 SVN，定义了提交信息的格式、内容和最佳实践，确保项目提交记录清晰、一致且易于维护。

::: tip
这只是一个推荐
:::

## 目标

- **清晰记录**：通过结构化的提交信息快速了解变更内容。
- **便于追踪**：方便查找特定功能、修复或变更。
- **协作效率**：提高团队协作和代码审查效率。
- **自动化支持**：支持自动化工具（如生成变更日志）。

## 适用范围

本规范适用于所有使用 Git 或 SVN 的项目，包括新功能开发、Bug 修复、文档更新等。

## 提交信息格式

### 1. 基本结构

提交信息应遵循以下格式：

```
<类型>(<范围>): <简短描述>
<空行>
<详细描述（可选）>
<空行>
<关联问题（可选）>
```

- **类型**：指明变更类型（如 feat、fix）。
- **范围**：指明变更影响的模块或功能（可选，如 auth、ui）。
- **简短描述**：一句简洁的描述（建议 50 字以内）。
- **详细描述**：提供变更的背景、实现细节或影响（可选）。
- **关联问题**：链接相关 issue 或任务编号（可选）。

### 2. 类型说明

常用类型包括：

- `feat`：新功能（feature）。
- `fix`：修复 Bug。
- `docs`：文档变更。
- `style`：代码风格调整（不影响逻辑，如格式化、缩进）。
- `refactor`：代码重构（不新增功能或修复 Bug）。
- `test`：添加或修改测试用例。
- `chore`：杂项（如更新依赖、配置修改）。
- `perf`：性能优化。
- `ci`：持续集成相关变更。
- `revert`：回滚之前的提交。

## 提交规范

### 1. 提交粒度

- **单一职责**：每个提交专注于单一变更，避免大范围修改。
- **小而频繁**：建议每次提交控制在 100-200 行代码，方便审查。
- **逻辑完整**：确保提交的功能或修复是可独立运行的。

### 2. 提交信息要求

- **语言**：使用简洁的中文或英文（根据团队约定）。
- **简短描述**：首行控制在 50 字以内，清晰概括变更。
- **详细描述**：必要时说明背景、影响或技术细节。
- **一致性**：遵循类型和范围约定，避免模糊描述（如“修改代码”）。
- **时态**：使用现在时，如 `add` 而不是 `added`。

## 最佳实践

- **提交前检查**：
  - 运行 linter 和测试用例，确保代码质量。
  - 格式化代码，遵循项目风格指南（如 Prettier、ESLint）。
- **清晰描述**：避免模糊提交信息，如“修复问题”或“更新”。
- **原子提交**：将大功能拆分为多个小提交，便于追踪和回滚。
- **工具支持**：
  - 使用 `commitizen` 或 `cz-cli` 辅助生成规范提交信息。
  - 配置 `commit-msg` 钩子校验提交信息格式。
- **文档同步**：功能变更或 API 修改时，同步更新相关文档。

## 注意事项

- **避免大提交**：大范围变更应拆分为多个小提交。
- **保持一致**：团队内统一提交信息语言（中文/英文）和风格。
- **审查前提交**：确保提交通过 CI/CD 测试，减少审查负担。
- **紧急修复**：如需快速提交（如生产环境 Bug），在描述中注明原因。

## 参考工具

- **Git 工具**：
  - `commitizen`：辅助生成规范提交信息。
  - `husky`：配置 Git 钩子校验提交信息。
  - `conventional-changelog`：自动生成变更日志。
- **SVN 工具**：
  - 配置 SVN 客户端（如 TortoiseSVN）使用模板。
  - 使用预提交钩子校验提交信息。
- **风格指南**：参考 Angular Commit Guidelines 或 Conventional Commits。
